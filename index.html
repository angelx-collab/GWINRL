<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>GWINRL — 72h pour reprendre la main</title>
  <link rel="icon" href="assets/logo.svg"/>
  <style>
    :root{
      --bg:#071634; --panel:#0b214a; --ink:#eaf1ff; --muted:#a9c0ff;
      --accent:#5aa9ff; --accent2:#35d2b4;
      --ring:rgba(255,255,255,.08); --ring2:rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:radial-gradient(1200px 800px at 50% -200px,#0a2658 0%,#071634 55%,#051029 100%);
      color:var(--ink); font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", sans-serif}
    .container{max-width:1040px;margin:0 auto;padding:20px}
    .langs{display:flex;gap:8px;margin:8px 0 14px}
    .langs button{background:transparent;border:1px solid var(--ring);color:var(--ink);padding:6px 10px;border-radius:10px}
    .langs button.active{background:var(--panel);border-color:var(--accent)}
    .panel{background:var(--panel);border:1px solid var(--ring);border-radius:18px;padding:18px;box-shadow:0 10px 26px var(--ring2)}
    .badges{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px}
    .badge{font-size:12px;color:var(--muted);background:#0a2a63;border:1px solid var(--ring);padding:6px 10px;border-radius:999px}
    h1{margin:8px 0 8px;font-weight:800;font-size:clamp(26px,5.5vw,40px);letter-spacing:.3px}
    .lead{margin:0 0 6px;color:var(--muted)}
    .logo{position:absolute;right:16px;top:16px;width:52px;height:52px;opacity:.95}
    .grid{display:grid;gap:14px;margin-top:14px}
    @media(min-width:860px){.grid{grid-template-columns:1.1fr .9fr}}
    .list{margin:0;padding:0 0 0 18px;line-height:1.6}
    .kpis{display:grid;gap:12px;grid-auto-flow:column;align-items:start}
    .kpi{background:rgba(255,255,255,.04);border:1px solid var(--ring);border-radius:14px;padding:12px 14px}
    .kpi b{font-size:20px}
    .small{font-size:12px;color:var(--muted)}
    .cta{position:sticky;bottom:0;background:linear-gradient(180deg,rgba(7,22,52,0) 0%, rgba(7,22,52,.7) 24%, rgba(7,22,52,1) 56%);padding:14px 0 10px;margin-top:16px;backdrop-filter:blur(4px)}
    .cta-inner{max-width:1040px;margin:0 auto;padding:0 20px}
    .select{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    label{display:flex;gap:8px;align-items:center}
    .btn,.btn-outline{flex:1 1 160px;border-radius:12px;padding:12px 16px;border:0;font-weight:700}
    .btn{background:linear-gradient(180deg,#56b1ff,#1667ff);color:white}
    .btn[disabled]{opacity:.5;filter:grayscale(1)}
    .btn-outline{background:transparent;border:1px solid var(--ring);color:var(--ink)}
    footer{margin:22px 0 70px}
    a{color:#9ec4ff}
    /* ===== Styles pour les packs ===== */
.packs {
  margin: 20px 0;
  display: grid;
  grid-template-columns: 1fr 1fr; /* 2 colonnes */
  gap: 20px;
}

.packs{
  margin:20px 0;
  display:grid;
  grid-template-columns:1fr;  /* mobile */
  gap:16px;
}
@media (min-width:860px){
  .packs{ grid-template-columns:1fr 1fr; } /* desktop: 2 colonnes */
}

.pack{
  background:var(--panel);
  border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  padding:18px 16px;
  color:var(--ink);
  box-shadow:0 2px 10px rgba(0,0,0,.12);
}
.pack h3{
  margin:0 0 10px;
  font-size:20px;
  line-height:1.2;
}
.pack ul{ list-style:disc; padding-left:18px; margin:0; }
.pack li{ margin:8px 0; color:var(--ink); opacity:1; }

.container{ padding-bottom:160px; } /* pour que la barre CTA n’empiète pas */

.pack ul {
  margin: 0;
  padding-left: 20px;
}

.pack li {
  margin-bottom: 8px;
  font-size: 0.95em;
}
  </style>
  <script defer src="config.js"></script>
</head>
<body>
  <div class="container">

    <div class="langs">
      <button data-lang="fr" class="active">FR</button>
      <button data-lang="nl">NL</button>
      <button data-lang="en">EN</button>
    </div>

    <div class="panel header" style="position:relative">
      <div class="badges" id="badges"></div>
      <h1 id="title">GWINRL — 72h pour reprendre la main</h1>
      <p class="lead" id="lead">On applique ensemble. Zéro blabla — des actions concrètes pour souffler.</p>
      <img class="logo" src="assets/logo.svg" alt="logo"/>
    </div>

    <div class="grid">
      <div class="panel">
        <h3 id="insideTitle">Au programme</h3>
        <ul class="list" id="bullets"></ul>
      </div>

      <div class="panel">
        <div class="kpis">
          <div class="kpi">
            <div><b id="inscrits">21</b> inscrits</div>
            <small>objectif 150</small>
          </div>
          <div class="kpi">
            <div><b>ELITE : 8</b> places</div>
            <small>audit 1:1</small>
          </div>
        </div>
        <div class="small" style="margin-top:10px">
          <p>
            <a href="refund.html" id="refundLink">Garantie / Retours</a> —
            <a href="terms.html" id="termsLink">Conditions</a>
          </p>
          <p>Support : <a id="supportMail" href="mailto:hello@gwinrl.com">hello@gwinrl.com</a></p>
        </div>
      </div>
    </div>
<!-- ===== Description des packs ===== -->
<div class="packs">
  <div class="pack" id="starter">
    <h3>Starter</h3>
    <ul>
      <li>Reductions polies de factures (telecom/internet/assurance)</li>
      <li>Guides de switch intelligents (energie/banque)</li>
      <li>Accès à des modeles simples de demandes de remboursement</li>
    </ul>
  </div>

  <div class="pack" id="pro">
    <h3>Pro</h3>
    <ul>
      <li>Tous les avantages Starter</li>
      <li>15 modeles de reclamations detailles</li>
      <li>Exemples concrets + guides pour chaque type de remboursement</li>
      <li>Acces prioritaire aux mises à jour</li>
    </ul>
  </div>

  <div class="pack" id="vip">
    <h3>VIP</h3>
    <ul>
      <li>Tous les avantages Pro</li>
      <li>Cas plus complexes (litiges bancaires, voyages, garanties legales)</li>
      <li>Modèles exclusifs + support email dédié</li>
      <li>Bonus : pack spécial "cash immédiat" (revente express)</li>
    </ul>
  </div>

  <div class="pack" id="elite">
    <h3>Elite</h3>
    <ul>
      <li>Tous les avantages VIP</li>
      <li>1 Audit personnalisé 1:1</li>
      <li>Suivi email prioritaire pendant 30 jours</li>
      <li>Contenu exclusif supplémentaire</li>
    </ul>
  </div>
</div>
<!-- ===== Fin description packs ===== -->
    <div class="cta">
      <div class="cta-inner">
      <!-- choix du plan -->
<!-- choix du plan -->
<div class="select" id="plans">
  <label class="tier">
    <input id="plan-starter" type="radio" name="plan" value="starter">
    <span>Starter</span>
  </label>

  <label class="tier">
    <input id="plan-pro" type="radio" name="plan" value="pro">
    <span>Pro</span>
  </label>

  <label class="tier">
    <input id="plan-vip" type="radio" name="plan" value="vip">
    <span>VIP</span>
  </label>

  <label class="tier">
    <input id="plan-elite" type="radio" name="plan" value="elite">
    <span>ELITE</span>
  </label>
</div>

  <!-- case légale obligatoire -->
  <label class="waiver">
    <input id="waiver" type="checkbox">
    <span id="waiverLabel">Je veux l’accès immédiat et je renonce au droit de rétractation de 14 jours.</span>
  </label>

  <!-- boutons de paiement -->
  <button class="btn" id="pay" disabled>Payer (Stripe)</button>
  <button class="btn-outline" id="crypto">USDT/USDC</button>
</div>
      </div>
    </div>

    <footer class="small">
      <p><a href="legal/terms.html">Conditions</a></p>
    </footer>
  </div>

  <script>
  // Références aux éléments du DOM
const apply     = document.querySelector("#apply");   // (peut être null si pas utilisé)
const waiver    = document.querySelector("#waiver");  // case à cocher
const payBtn    = document.querySelector("#pay");     // bouton Stripe
const cryptoBtn = document.querySelector("#crypto");  // bouton crypto
// === Activation bouton + redirection (nouvelle logique Stripe)
// radios des packs
const planRadios = Array.from(document.querySelectorAll('input[name="plan"]'));

// ===== Plan sélectionné =====
function pickPlan(){
  const r = planRadios.find(x => x.checked);
  return r ? r.value : null; // "starter" | "pro" | "vip" | "elite"
}

// ===== URL Stripe selon plan + éventuel ?code= =====
function selectedStripeUrl(){
  const C    = window.GWINRL_CONFIG || {};
  const qp   = new URLSearchParams(location.search);
  const code = (qp.get("code") || "").toUpperCase();

  const isRef = (C.codes || []).map(x => x.toUpperCase()).includes(code);
  const group = isRef ? (C.stripe && C.stripe.referral)
                      : (C.stripe && C.stripe.normal);

  const plan = pickPlan();
  if (!plan || !group || !group[plan]) return null;
  return group[plan];
}

</script>
// === Activer / désactiver "Payer (Stripe)" ===
function updatePay(){
  const hasPlan = !!pickPlan();
  const waived  = waiver && waiver.checked;
  const url     = selectedStripeUrl();

  if (payBtn) {
    payBtn.disabled = !(hasPlan && waived && url);
  }
}

// Écoute des radios et de la case à cocher
planRadios.forEach(r => r.addEventListener("change", updatePay));
if (waiver) waiver.addEventListener("change", updatePay);

// Clic pay → redirection Stripe
if (payBtn){
  payBtn.addEventListener("click", (e)=>{
    const url = selectedStripeUrl();
    if (!url || payBtn.disabled) {
      e.preventDefault();
      return;
    }
    window.location.href = url;
  });
}

// Premier passage
updatePay();
  // Initial render
  render();
  </script>
</body>
</html>